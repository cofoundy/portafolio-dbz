@import "tailwindcss";

/* ============================================
   Custom Theme Tokens
   ============================================ */
@theme {
  /* Brand colors */
  --color-brand-900: #0a0a0a;
  --color-brand-800: #1a1a1a;
  --color-brand-700: #2d2d2d;
  --color-brand-600: #404040;
  --color-brand-500: #525252;
  --color-brand-400: #737373;
  --color-brand-300: #a3a3a3;
  --color-brand-200: #d4d4d4;
  --color-brand-100: #f0f0f0;
  --color-brand-50: #fafafa;

  --color-accent: #c8a97e;
  --color-accent-light: #dfc9a8;
  --color-accent-dark: #a88b5e;

  /* Semantic radius */
  --radius-card: 1.5rem;
  --radius-card-sm: 1rem;
  --radius-inner: 0.75rem;

  /* Font families */
  --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif;
  --font-display: "Inter", ui-sans-serif, system-ui, sans-serif;
}

/* ============================================
   Base Styles
   ============================================ */
html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto;
}

body {
  font-family: var(--font-sans);
  background-color: var(--color-brand-900);
  color: var(--color-brand-100);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

::selection {
  background-color: var(--color-accent);
  color: var(--color-brand-900);
}

/* ============================================
   Bento Cards — animación de entrada escalonada
   ============================================ */
.bento-grid > * {
  opacity: 1;
  transform: translateY(0) scale(1);
  transition:
    opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
    transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  transition-delay: calc(0.07s * var(--i, 0));

  @starting-style {
    opacity: 0;
    transform: translateY(30px) scale(0.97);
  }
}

/* Fallback para navegadores sin @starting-style */
@supports not (selector(:is(@starting-style {}))) {
  .bento-grid > * {
    animation: bento-reveal 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: calc(0.07s * var(--i, 0));
    opacity: 0;
  }

  @keyframes bento-reveal {
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
}

/* Delays escalonados por posición */
.bento-grid > :nth-child(1) { --i: 0; }
.bento-grid > :nth-child(2) { --i: 1; }
.bento-grid > :nth-child(3) { --i: 2; }
.bento-grid > :nth-child(4) { --i: 3; }
.bento-grid > :nth-child(5) { --i: 4; }
.bento-grid > :nth-child(6) { --i: 5; }
.bento-grid > :nth-child(7) { --i: 6; }
.bento-grid > :nth-child(8) { --i: 7; }
.bento-grid > :nth-child(9) { --i: 8; }
.bento-grid > :nth-child(10) { --i: 9; }

/* ============================================
   Intro Card — aparición progresiva de elementos internos
   ============================================ */
@keyframes intro-reveal {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
}

#intro-hero > #intro-text > *,
#intro-default > * {
  animation: intro-reveal 0.4s cubic-bezier(0.16, 1, 0.3, 1) backwards;
}

/* Tagline */
#intro-text > :nth-child(1) { animation-delay: 0.1s; }
/* H1 */
#intro-text > :nth-child(2) { animation-delay: 0.18s; }
/* Subtítulo */
#intro-text > :nth-child(3) { animation-delay: 0.26s; }
/* Botones */
#intro-default > :nth-child(1) { animation-delay: 0.34s; }
/* Visto en */
#intro-default > :nth-child(2) { animation-delay: 0.42s; }

/* Accesibilidad: respetar preferencias del usuario */
@media (prefers-reduced-motion: reduce) {
  .bento-grid > *,
  #intro-hero > #intro-text > *,
  #intro-default > *,
  .book-marquee-content,
  .card-expanded,
  .scrollytelling-chapter,
  .chapter-item {
    animation: none !important;
    transition: none !important;
    opacity: 1 !important;
    transform: none !important;
    clip-path: none !important;
  }

  .scrollytelling-progress {
    display: none;
  }
}

/* ============================================
   Book Marquee — scroll infinito horizontal
   ============================================ */
@keyframes book-scroll {
  from { transform: translateX(0); }
  to { transform: translateX(calc(-100% - var(--marquee-gap))); }
}

.book-marquee {
  --marquee-gap: 1rem;
  display: flex;
  overflow: hidden;
  gap: var(--marquee-gap);
}

.book-marquee-content {
  flex-shrink: 0;
  display: flex;
  gap: var(--marquee-gap);
  transform: translateX(0);
  transition: transform 0.4s ease-out;
}

/* En dispositivos touch, auto-scroll siempre */
@media (hover: none) {
  .book-marquee-content {
    animation: book-scroll 10s linear infinite;
  }
}

/* En dispositivos con hover, mantener comportamiento actual */
@media (hover: hover) {
  #libros:hover .book-marquee-content {
    animation: book-scroll 10s linear infinite;
  }

  #libros:hover .book-marquee:hover .book-marquee-content {
    animation-play-state: paused;
  }
}

/* ============================================
   Podcast Card — layout horizontal cuando es 2-col
   ============================================ */
#contenido.col-span-2 .podcast-inner {
  flex-direction: row-reverse;
  gap: 1.5rem;
}

#contenido.col-span-2 .podcast-cover {
  display: none;
  flex: 1 1 0%;
  min-width: 0;
  aspect-ratio: 1 / 1;
  overflow: hidden;
}
@media (min-width: 768px) {
  #contenido.col-span-2 .podcast-cover {
    display: block;
  }
}

#contenido.col-span-2 .podcast-inner > :last-child {
  flex-shrink: 0;
}

/* Escalar a tamaño de cards 2-col (igual que Empresas/Libros) */
#contenido.col-span-2 {
  padding: 2rem;
}

#contenido.col-span-2 h2 {
  font-size: var(--text-2xl);
  line-height: var(--tw-leading, 2rem);
}

/* ============================================
   Cards — expansión genérica FLIP clip-path
   ============================================ */

/* Clase genérica para cards expandidas */
.card-expanded {
  grid-row: auto;
}

/* Botón expandir: visible por defecto, oculto en modo expandido */
.expand-btn {
  display: grid;
}

.card-expanded .expand-btn {
  display: none;
}

/* Botón cerrar: oculto por defecto, visible en modo expandido */
.close-btn {
  display: none;
}

.card-expanded .close-btn {
  display: grid;
}

/* Cards expandibles necesitan position relative */
#intro, #empresas, #libros {
  position: relative;
}

/* ============================================
   Intro Card — expansión (storytelling)
   ============================================ */
/* Foto circular: oculta por defecto */
.intro-photo {
  display: none;
}

/* Expandido: reducir padding en móvil */
#intro.card-expanded {
  padding: 1.25rem;
}
@media (min-width: 768px) {
  #intro.card-expanded {
    padding: 3rem;
  }
}

/* No re-animar intro-reveal al volver */
#intro.card-expanded > * {
  animation: none;
}

/* Hero: foto posicionada sin afectar el texto */
#intro.card-expanded #intro-hero {
  position: relative;
}

/* Mostrar foto circular en expandido */
#intro.card-expanded .intro-photo {
  display: block;
  margin-top: 1rem;
  max-width: 9rem;
  max-height: 9rem;
}

/* Desktop: absoluta a la derecha del h1 */
@media (min-width: 768px) {
  #intro.card-expanded .intro-photo {
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    margin-top: 0;
    max-width: none;
    max-height: none;
  }
}


/* Chapter sections */
.scrollytelling-chapter {
  border-bottom: 1px solid color-mix(in srgb, var(--color-brand-700) 30%, transparent);
}

/* ============================================
   Chapter cover — hover slide reveal
   ============================================ */
.chapter-cover {
  z-index: 1;
  transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

.group:hover .chapter-cover.slide-left {
  transform: translateX(-100%);
}

.group:hover .chapter-cover.slide-right {
  transform: translateX(100%);
}

/* ============================================
   Progress bar sticky
   ============================================ */
.scrollytelling-progress {
  position: sticky;
  top: 0;
  z-index: 20;
  height: 3px;
  background-color: var(--color-accent);
  transform-origin: left;
  transform: scaleX(0);
  will-change: transform;
}

/* ============================================
   CSS Scroll-Driven Animations — chapter + stagger
   ============================================ */
@supports (animation-timeline: view()) {
  .scrollytelling-chapter {
    animation: chapter-reveal linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 30%;
  }

  /* Stagger: cada .chapter-item se revela con offset progresivo */
  .chapter-item {
    animation: item-reveal linear both;
    animation-timeline: view();
  }

  .chapter-item:nth-child(1) { animation-range: entry 0% entry 25%; }
  .chapter-item:nth-child(2) { animation-range: entry 5% entry 30%; }
  .chapter-item:nth-child(3) { animation-range: entry 10% entry 35%; }
  .chapter-item:nth-child(4) { animation-range: entry 15% entry 40%; }

  @keyframes chapter-reveal {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes item-reveal {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Fallback: IntersectionObserver adds .is-visible */
@supports not (animation-timeline: view()) {
  .scrollytelling-chapter {
    opacity: 0;
    transform: translateY(40px);
    transition:
      opacity 0.6s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .scrollytelling-chapter.is-visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Stagger fallback: items se revelan con delay escalonado */
  .chapter-item {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.5s cubic-bezier(0.16, 1, 0.3, 1),
      transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .is-visible .chapter-item:nth-child(1) { transition-delay: 0s; }
  .is-visible .chapter-item:nth-child(2) { transition-delay: 0.08s; }
  .is-visible .chapter-item:nth-child(3) { transition-delay: 0.16s; }
  .is-visible .chapter-item:nth-child(4) { transition-delay: 0.24s; }

  .is-visible .chapter-item {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   Light Theme — override de custom properties
   ============================================ */
[data-theme="light"] {
  --color-brand-900: #FEFCF2;  /* fondo — crema suave */
  --color-brand-800: #E8E0CC;  /* cards — crema más marcado */
  --color-brand-700: #D5CFBE;  /* bordes decorativos */
  --color-brand-600: #A3B087;  /* decorativo — sage green */
  --color-brand-500: #3C4D57;  /* texto terciario — 7.1:1 ✓ AAA */
  --color-brand-400: #3E4F59;  /* texto secundario */
  --color-brand-300: #354350;  /* texto medio */
  --color-brand-200: #2D3A47;  /* texto fuerte */
  --color-brand-100: #273340;  /* texto body */
  --color-brand-50: #1E2230;   /* títulos */
  --color-accent: #3A4A2D;    /* olive oscuro — labels texto */
  --color-accent-light: #435234;  /* hover btn — texto crema: 7.6:1 ✓ AAA */
  --color-accent-dark: #2E3C22;  /* accent más profundo */
}

/* ---- Light theme: fondos sólidos (sin alpha) ---- */
[data-theme="light"] .bg-brand-800\/40,
[data-theme="light"] .bg-brand-800\/50,
[data-theme="light"] .bg-brand-800\/60 {
  background-color: var(--color-brand-800);
}
/* Inner cards: más claras que la card padre para diferenciarse */
[data-theme="light"] .bg-brand-800\/30 {
  background-color: #FEFCF2;
}
[data-theme="light"] .bg-brand-700\/50 {
  background-color: var(--color-brand-700);
}

/* ---- Light theme: sombras para profundidad en cards ---- */
[data-theme="light"] .rounded-card,
[data-theme="light"] .rounded-card-sm {
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.06),
    0 4px 12px rgba(0, 0, 0, 0.04);
  transition: box-shadow 0.3s ease, border-color 0.3s ease;
}
[data-theme="light"] .rounded-card:hover,
[data-theme="light"] .rounded-card-sm:hover {
  box-shadow:
    0 2px 8px rgba(0, 0, 0, 0.08),
    0 8px 24px rgba(0, 0, 0, 0.06);
}

/* ---- Light theme: sin bordes en cards (las sombras dan profundidad) ---- */
[data-theme="light"] .border-brand-800 {
  border-color: transparent;
}
[data-theme="light"] .hover\:border-accent\/30:hover {
  border-color: transparent;
}

/* ---- Light theme: botón secondary mantiene borde visible ---- */
[data-theme="light"] .border-brand-600 {
  border-color: var(--color-brand-400);
}

/* ---- Light theme: barra social de foto — mantener oscura ---- */
[data-theme="light"] .bg-brand-900\/80 {
  background-color: rgba(30, 34, 48, 0.85);
}

/* ---- Light theme: íconos sociales legibles sobre fondo oscuro ---- */
[data-theme="light"] .bg-brand-900\/80 .text-brand-400 {
  color: #A3B087;
}
[data-theme="light"] .bg-brand-900\/80 .hover\:text-brand-50:hover {
  color: #FEFCF2;
}

/* ---- Light theme: newsletter accent card con tinte sage green ---- */
[data-theme="light"] .border-accent\/20 {
  border-color: color-mix(in oklab, #A3B087 40%, transparent);
}
[data-theme="light"] .bg-accent\/5 {
  background-color: color-mix(in oklab, #A3B087 10%, transparent);
}

/* ---- Light theme: inner cards (logos empresa) más definidas ---- */
[data-theme="light"] .bg-brand-700\/50,
[data-theme="light"] .bg-brand-700\/70 {
  background-color: color-mix(in oklab, var(--color-brand-700) 50%, transparent);
}

/* ---- Light theme: logos expandidos en blanco (excepto Kambista y MGW) ---- */
[data-theme="light"] #empresas-expanded .bg-brand-700\/20 img {
  filter: brightness(0) invert(1);
}
[data-theme="light"] #empresas-expanded .bg-brand-700\/20 img[alt="Kambista"],
[data-theme="light"] #empresas-expanded .bg-brand-700\/20 img[alt="MyGoodWeek"] {
  filter: none;
}

/* ---- Light theme: bordes inner cards más definidos ---- */
[data-theme="light"] .border-brand-700\/50 {
  border-color: var(--color-brand-700);
}

/* ---- Light theme: icon boxes podcast/speaking más visibles ---- */
[data-theme="light"] .bg-\[\#1DB954\]\/10 {
  background-color: rgba(29, 185, 84, 0.18);
}
[data-theme="light"] .bg-\[\#1DB954\]\/20 {
  background-color: rgba(29, 185, 84, 0.28);
}
[data-theme="light"] .bg-red-500\/10 {
  background-color: rgba(239, 68, 68, 0.18);
}
[data-theme="light"] .bg-red-500\/20 {
  background-color: rgba(239, 68, 68, 0.28);
}

/* ---- Light theme: cards destacadas con fondo sage green ---- */
[data-theme="light"] #intro,
[data-theme="light"] #libros {
  background-color: #5C6B4A;
  border-color: #4E5D3E;
}
[data-theme="light"] #empresas {
  background-color: #19100e;
  border-color: #0f0908;
}

/* Intro: textos claros sobre verde — jerarquía con opacidad */
[data-theme="light"] #intro .text-accent {
  color: rgba(255, 255, 255, 0.7);
}
[data-theme="light"] #intro .text-brand-50 {
  color: #FFFFFF;
}
[data-theme="light"] #intro .text-brand-300 {
  color: rgba(255, 255, 255, 0.75);
}
[data-theme="light"] #intro .text-brand-500 {
  color: rgba(255, 255, 255, 0.5);
}
[data-theme="light"] #intro .text-brand-400 {
  color: rgba(255, 255, 255, 0.6);
}
[data-theme="light"] #intro .border-brand-700\/50 {
  border-color: rgba(254, 252, 242, 0.2);
}
/* Intro: botón primary invertido sobre verde */
[data-theme="light"] #intro .bg-accent {
  background-color: #FEFCF2;
  color: #3A4A2D;
}
[data-theme="light"] #intro .hover\:bg-accent-light:hover {
  background-color: #F0EBDA;
}
[data-theme="light"] #intro .text-brand-100 {
  color: #FEFCF2;
}

/* Empresas y Libros: textos claros — jerarquía con opacidad */
[data-theme="light"] #empresas .text-accent,
[data-theme="light"] #libros .text-accent {
  color: rgba(255, 255, 255, 0.7);
}
[data-theme="light"] #empresas .text-brand-50,
[data-theme="light"] #libros .text-brand-50 {
  color: #FFFFFF;
}
[data-theme="light"] #empresas .text-brand-300,
[data-theme="light"] #libros .text-brand-300 {
  color: rgba(255, 255, 255, 0.75);
}
[data-theme="light"] #empresas .text-brand-400,
[data-theme="light"] #libros .text-brand-400 {
  color: rgba(255, 255, 255, 0.6);
}
[data-theme="light"] #empresas .text-brand-500,
[data-theme="light"] #libros .text-brand-500 {
  color: rgba(255, 255, 255, 0.5);
}
/* Empresas/Libros: botones expandir/cerrar claros */
[data-theme="light"] #empresas .hover\:bg-brand-800:hover,
[data-theme="light"] #libros .hover\:bg-brand-800:hover {
  background-color: rgba(254, 252, 242, 0.2);
}
[data-theme="light"] #empresas .hover\:text-brand-50:hover,
[data-theme="light"] #libros .hover\:text-brand-50:hover {
  color: #FEFCF2;
}
/* Empresas colapsado: logo boxes sobre fondo oscuro */
[data-theme="light"] #empresas .bg-brand-700\/50 {
  background-color: rgba(254, 252, 242, 0.12);
}
[data-theme="light"] #empresas .hover\:bg-brand-700\/70:hover {
  background-color: rgba(254, 252, 242, 0.2);
}
/* Labels categoría sobre fondo oscuro — más visibles */
[data-theme="light"] #empresas-default .text-brand-400 {
  color: rgba(255, 255, 255, 0.8);
}

/* ---- Inner cards expandidas: revertir textos a oscuro sobre fondo claro ---- */
[data-theme="light"] #empresas .bg-brand-800\/30 .text-brand-50,
[data-theme="light"] #libros .bg-brand-800\/30 .text-brand-50 {
  color: #1E2230;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .text-brand-300,
[data-theme="light"] #libros .bg-brand-800\/30 .text-brand-300 {
  color: #354350;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .text-brand-400,
[data-theme="light"] #libros .bg-brand-800\/30 .text-brand-400 {
  color: #3E4F59;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .text-brand-500,
[data-theme="light"] #libros .bg-brand-800\/30 .text-brand-500 {
  color: #3C4D57;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .text-accent,
[data-theme="light"] #libros .bg-brand-800\/30 .text-accent {
  color: #3A4A2D;
}
/* Inner cards: links diferenciados como acción */
[data-theme="light"] #empresas .bg-brand-800\/30 .text-brand-300.hover\:text-accent,
[data-theme="light"] #libros .bg-brand-800\/30 .text-brand-300.hover\:text-accent {
  color: #3A4A2D;
  text-decoration: underline;
  text-underline-offset: 3px;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .hover\:text-accent:hover,
[data-theme="light"] #libros .bg-brand-800\/30 .hover\:text-accent:hover {
  color: #2E3C22;
}
/* Inner cards: sin bordes, solo shadow + rounded */
[data-theme="light"] #empresas .bg-brand-800\/30,
[data-theme="light"] #libros .bg-brand-800\/30 {
  border: none;
}
[data-theme="light"] #empresas .bg-brand-800\/30:hover,
[data-theme="light"] #libros .bg-brand-800\/30:hover {
  border: none;
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.1),
    0 12px 32px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}
[data-theme="light"] #empresas .bg-brand-800\/30 .border-b,
[data-theme="light"] #libros .bg-brand-800\/30 .border-b {
  border-bottom: none;
}
/* Inner cards: tags bg-accent/10 y bg-accent/15 visibles */
[data-theme="light"] #empresas .bg-brand-800\/30 .bg-accent\/10,
[data-theme="light"] #libros .bg-brand-800\/30 .bg-accent\/15 {
  background-color: color-mix(in oklab, #A3B087 20%, transparent);
}

/* ---- Scrollytelling: verde hasta progress bar, luego crema card ---- */
[data-theme="light"] #intro.card-expanded {
  background: linear-gradient(
    to bottom,
    #5C6B4A 600px,
    #E8E0CC 601px
  );
}
@media (min-width: 768px) {
  [data-theme="light"] #intro.card-expanded {
    background: linear-gradient(
      to bottom,
      #5C6B4A 520px,
      #E8E0CC 521px
    );
  }
}

/* Scrollytelling: intro text sobre zona verde — mantener blanco */
[data-theme="light"] #intro-story > .text-accent {
  color: rgba(255, 255, 255, 0.7);
}
[data-theme="light"] #intro-story > .text-brand-300 {
  color: rgba(255, 255, 255, 0.75);
}

/* Scrollytelling: chapters — textos oscuros sobre fondo crema */
[data-theme="light"] #intro-story .scrollytelling-chapter .text-accent {
  color: #3A4A2D;
}
[data-theme="light"] #intro-story .scrollytelling-chapter .text-brand-50 {
  color: #1E2230;
}
[data-theme="light"] #intro-story .scrollytelling-chapter .text-brand-300 {
  color: #354350;
}
[data-theme="light"] #intro-story .scrollytelling-chapter .text-brand-400 {
  color: #3E4F59;
}
[data-theme="light"] #intro-story .scrollytelling-chapter .text-brand-500 {
  color: #3C4D57;
}

/* Scrollytelling: highlight/métricas boxes — fondo blanco con sombra */
[data-theme="light"] #intro-story .bg-brand-800\/50 {
  background-color: #FEFCF2;
  border-color: #D5CFBE;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}
[data-theme="light"] #intro-story .highlight-value {
  color: #3A4A2D;
}

/* Scrollytelling: bordes de imágenes y media */
[data-theme="light"] #intro-story .border-brand-700\/30 {
  border-color: #D5CFBE;
}
[data-theme="light"] #intro-story .bg-brand-800\/30 {
  background-color: #E8E0CC;
}

/* Scrollytelling: chapter separadores */
[data-theme="light"] #intro-story .scrollytelling-chapter {
  border-bottom-color: #D5CFBE;
}

/* Scrollytelling: CTA botones sobre fondo claro */
[data-theme="light"] #intro-story .bg-accent {
  background-color: #3A4A2D;
  color: #FEFCF2;
}
[data-theme="light"] #intro-story .hover\:bg-accent-light:hover {
  background-color: #435234;
}
[data-theme="light"] #intro-story .border-brand-600 {
  border-color: #3E4F59;
}
[data-theme="light"] #intro-story .text-brand-100 {
  color: #273340;
}

/* Scrollytelling: progress bar */
[data-theme="light"] .scrollytelling-progress {
  background-color: #3A4A2D;
}

/* ---- Intro: botón secondary más visible sobre verde ---- */
[data-theme="light"] #intro .border-brand-600 {
  border-color: #FEFCF2;
}

/* ---- Botón cerrar (X) más visible sobre verde ---- */
[data-theme="light"] #empresas > .close-btn,
[data-theme="light"] #libros > .close-btn,
[data-theme="light"] #empresas > .expand-btn,
[data-theme="light"] #libros > .expand-btn {
  color: #FEFCF2;
}

/* ---- Logo header expandido: acorde al fondo oscuro de empresas ---- */
[data-theme="light"] #empresas-expanded .bg-brand-700\/20 {
  background-color: #2E2420;
}

/* ---- Light theme: FAB flotante móvil ---- */
[data-theme="light"] #mobile-fab button {
  background-color: #5C6B4A;
  border-color: #4E5D3E;
  color: #FEFCF2;
}

/* ============================================
   FAB — menú flotante móvil
   ============================================ */
#mobile-fab .fab-satellite {
  transform: scale(0.5);
  opacity: 0;
  pointer-events: none;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1), opacity 0.2s;
}

#mobile-fab.open .fab-satellite {
  opacity: 1;
  pointer-events: auto;
}

#mobile-fab.open #fab-top {
  transform: translateY(-3.5rem);
}

/* fab-left: solo visible cuando hay secciones expandidas */
#mobile-fab.open.has-expansion #fab-left {
  transform: translateX(-3.5rem);
}

#mobile-fab.open #fab-bottom {
  transform: translateY(3.5rem);
}

/* Icono principal: hamburguesa ↔ × */
#mobile-fab .fab-close {
  display: none;
}

#mobile-fab.open .fab-hamburger {
  display: none;
}

#mobile-fab.open .fab-close {
  display: block;
}

/* Logo Cofoundy blanco → invertir en tema claro */
[data-theme="light"] footer a[href*="cofoundy"] img {
  filter: invert(1);
}
